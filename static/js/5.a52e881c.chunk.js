(this["webpackJsonpjust-project"]=this["webpackJsonpjust-project"]||[]).push([[5],{339:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(30),s=a(12),o=a(55),i=a(14),l=a(13),m=a(142),u=r.a.memo((function(e){var t=e.handleSubmit,a=Object(n.useState)(""),c=Object(o.a)(a,2),s=(c[0],c[1]);return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:t},Object(i.a)("message","enter new message",[],l.a,{},""),r.a.createElement("button",{onSubmit:function(){return s("")}},"Send")))})),d=Object(m.a)({form:"dialogs"})(u),h=a(107),b=a.n(h),g=a(19),f=r.a.memo((function(e){var t=e.chatUser;return r.a.createElement("div",null,r.a.createElement(g.b,{to:"/profile/".concat(t.userId)},r.a.createElement("img",{src:t.photo||b.a,style:{height:"50px",width:"50px"}})),t.message)})),p=a(7),j=a(70),E=function(e){return e.dialogs.chatUsers},v=a(117).b.setChatUsers,O=new WebSocket("wss://social-network.samuraijs.com/handlers/ChatHandler.ashx"),w=r.a.memo((function(){var e=Object(s.d)(E),t=Object(s.c)();Object(n.useEffect)((function(){O.addEventListener("message",(function(e){t(v(JSON.parse(e.data))),function(){var e=document.getElementById("dd");e&&e.scrollTo({top:e.scrollHeight-e.clientHeight,behavior:"smooth"})}()}))}),[]);return r.a.createElement("div",{style:{height:"400px",overflowY:"auto",marginRight:"40px"},id:"dd"},r.a.createElement("div",null,e.map((function(e,t){return r.a.createElement(f,{chatUser:e,key:t})})),r.a.createElement("div",null,r.a.createElement(d,{onSubmit:function(e){e.message&&e.message.length&&(O.send(e.message),t(Object(c.a)("dialogs")))}}))))}));t.default=Object(p.d)(j.a,j.b,j.c)(w)}}]);
//# sourceMappingURL=5.a52e881c.chunk.js.map